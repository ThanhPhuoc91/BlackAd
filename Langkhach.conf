[General]
wifi-assist = true
ipv6 = false
ipv6-vif = auto
proxy-test-url = http://dns.nextdns.io/generate_204
internet-test-url = http://captive.apple.com
test-timeout = 2
dns-server = system
use-local-host-item-for-proxy = true
udp-policy-not-supported-behaviour = reject
hijack-dns = *:53
skip-proxy = 192.168.0.0/24, 10.0.0.0/8, 172.16.0.0/12, 100.64.0.0/10,127.0.0.1, localhost, *.local, 255.255.255.255/32, 10.7.0.1/32, e.crashlytics.com, iosapps.itunes.apple.com, seed-sequoia.siri.apple.com, sequoia.apple.com, captive.apple.com, injections.adguard.org, local.adguard.org
always-real-ip = *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.logon.battlenet.com.cn, *.logon.battle.net, stun.l.google.com, raw.fastgit.org
force-http-engine-hosts = *.googlevideo.com
fast-switch = false
udp-priority = true
allow-wifi-access = false
include-local-networks = false
include-all-networks = false
network-framework = true
encrypted-dns-server = quic://dns.nextdns.io
show-error-page-for-reject = true

[Replica]
hide-apple-request = 0
hide-crashlytics-request = 1
hide-crash-reporter-request = 1
hide-udp = 1
use-keyword-filter = 1
keyword-filter-type = blacklist
keyword-filter = measurement, logging, icloud, 127.0, ocsp
keyword-filter-disabled = apple, mzstatic

[Proxy]
‚òÅÔ∏èCF = wireguard, section-name=Cloudflare, underlying-proxy=CF-LOCATE, test-url=http://cf.dns.nextdns.io/generate_204
üáªüá≥VN = snell, vn, 80, psk=pornhub, obfs=http, obfs-host=vt.tiktok.com, version=4, tfo=true, test-url=http://vn.dns.nextdns.io/generate_204
üá≠üá∞HK = ss, hk, 443, encrypt-method=chacha20-ietf-poly1305, password=8JCsPssfgS8tiRwiMlhA0Rg==, shadow-tls-password=8JCsPssfgS8ti0RwiMlhARg==, shadow-tls-sni=vt.tiktok.com
üá∏üá¨SG = snell, sh, 80, psk=pornhub, obfs=http, obfs-host=vt.tiktok.com, version=4, reuse=true, test-url=http://sg.dns.nextdns.io/generate_204
üáØüáµJP = snell, jp, 80, psk=pornhub, obfs=http, obfs-host=vt.tiktok.com, version=4, reuse=true, test-url=http://jp.dns.nextdns.io/generate_204
üá∫üá∏US = snell, us, 80, psk=pornhub, obfs=http, obfs-host=vt.tiktok.com, version=4, reuse=true, test-url=http://us.dns.nextdns.io/generate_204
JAV = snell, jp, 80, psk=pornhub, obfs=http, obfs-host=vt.tiktok.com, version=4, reuse=true
SideStore = wireguard, section-name=83964BA3, test-url=http://127.0.0.1:6154

[Proxy Group]
PROXY = select, DIRECT, persistent=0, tolerance=50, no-alert=0, hidden=0, include-all-proxies=1, update-interval=0, interface=pdp_ip0, test-timeout=15
CF-LOCATE = select, DIRECT, üáªüá≥VN, üá∏üá¨SG, üáØüáµJP, üá∫üá∏US, no-alert=0, hidden=0, include-all-proxies=0
FACEBOOK = select, DIRECT, include-all-proxies=0, no-alert=0, hidden=0, include-other-group=PROXY
YOUTUBE = select, DIRECT, include-all-proxies=0, no-alert=0, hidden=0, persistent=0, include-other-group=PROXY
TIKTOK = select, DIRECT, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=PROXY
GITHUB = select, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=PROXY
TELEGRAM = select, DIRECT, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=PROXY
APPLE = select, no-alert=0, hidden=0, include-all-proxies=0, include-other-group=PROXY
ADVERTISING = select, REJECT-TINYGIF, REJECT-DROP, REJECT-NO-DROP, REJECT, DIRECT, update-interval=604800, no-alert=0, hidden=0, include-all-proxies=0

[Rule]
URL-REGEX,^https:\/\/app\.monkeyuni\.net\/user\/api\/v2\/account\/load-update\?app_id=2&device_id=101927090&os=ios&info=App%20Version%3A%2030\.9\.31%0AOS%3A%20iOS%0AModel%3A%20iPhone12%2C3%0ASystem%20Version%3A%2016\.2%0ADevice%20Identifier%3A%20101927090&subversion=30\.9\.31&device_type=4&lang=vi-VN&lang_id=4&is_test=0&profile_id=1$,DIRECT // Added for: https://app.monkeyuni.net/user/api/v2/account/load-update?app_id=2&device_id=101927090&os=ios&info=App%20Version%3A%2030.9.31%0AOS%3A%20iOS%0AModel%3A%20iPhone12%2C3%0ASystem%20Version%3A%2016.2%0ADevice%20Identifier%3A%20101927090&subversion=30.9.31&device_type=4&lang=vi-VN&lang_id=4&is_test=0&profile_id=1
URL-REGEX,^https:\/\/app\.monkeyuni\.net\/user\/api\/v2\/account\/update-profile$,DIRECT // Added for: https://app.monkeyuni.net/user/api/v2/account/update-profile
DOMAIN,ocsp.apple.com,REJECT
IP-CIDR,10.7.0.1/32,SideStore,no-resolve // Added for: 10.7.0.1:62078
RULE-SET,https://raw.fastgit.org/blackmatrix7/ios_rule_script/master/rule/Surge/Facebook/Facebook.list,FACEBOOK,update-interval=604800
RULE-SET,https://raw.fastgit.org/blackmatrix7/ios_rule_script/master/rule/Surge/YouTube/YouTube.list,YOUTUBE,update-interval=604800
RULE-SET,https://raw.fastgit.org/blackmatrix7/ios_rule_script/master/rule/Surge/TikTok/TikTok.list,TIKTOK,update-interval=604800
RULE-SET,https://raw.fastgit.org/blackmatrix7/ios_rule_script/master/rule/Surge/Telegram/Telegram.list,TELEGRAM,update-interval=604800
RULE-SET,https://raw.fastgit.org/blackmatrix7/ios_rule_script/master/rule/Surge/GitHub/GitHub.list,GITHUB
AND,((OR,((RULE-SET,https://raw.fastgit.org/bigdargon/hostsVN/master/extensions/threat/surge-rule.conf), (RULE-SET,https://raw.fastgit.org/bigdargon/hostsVN/master/extensions/gambling/surge-rule.conf), (RULE-SET,https://raw.fastgit.org/bigdargon/hostsVN/master/option/hostsVN-surge-rule.conf))), (NOT,((RULE-SET,https://raw.fastgit.org/bigdargon/hostsVN/master/option/hostsVN-surge-exceptions-rule.conf)))),ADVERTISING
DOMAIN,http://proxy.safebrowsing.appleproxy-safebrowsing.googleapis.com,DIRECT
DOMAIN-SUFFIX,ls.apple.com,DIRECT // Maps
DOMAIN-SUFFIX,store.apple.com,DIRECT // Store
OR,((DOMAIN,raw.githubusercontent.com), (DOMAIN,iosapps.itunes.apple.com)),APPLE
RULE-SET,SYSTEM,PROXY
RULE-SET,LAN,DIRECT
GEOIP,VN,PROXY,no-resolve
IP-CIDR,0.0.0.0/32,REJECT,no-resolve
FINAL,PROXY,dns-failed

[Host]
*.apple.com = server:syslib

[SSID Setting]
MCCMNC:452-01 tfo-behaviour=force-disabled
MCCMNC:452-02 tfo-behaviour=force-disabled, dns-server=system, encrypted-dns-server=off
MCCMNC:452-04 tfo-behaviour=force-enabled, dns-server=system
TYPE:WIFI tfo-behaviour=force-enabled, cellular-fallback=wifi-assist

[MITM]
skip-server-cert-verify = true
# tcp-connection = true
tcp-connection = true
client-source-address = 127.0.0.1, 192.168.1.0/24
# ca-keystore-name = langkhach
ca-passphrase = 8B4243CF
ca-p12 = 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

[WireGuard Cloudflare]
private-key = cNA9g37tdvlUHG/RjexyvCOFIn1OtwX2zeFrzpF4GRA=
self-ip = 172.16.0.2
self-ip-v6 = 2606:4700:110:8023:6e46:fd03:a3b7:8be1
prefer-ipv6 = true
dns-server = 172.64.36.1, 172.64.36.2, 2a06:98c1:54::2:d4a3
mtu = 1380
peer = (public-key = bmXOC+F1FxEMF9dyiK2H5/1SUtzH0JuVo51h2wPfgyo=, allowed-ips = "0.0.0.0/0, ::0/0", endpoint = engage.nanocat.me:2408, keepalive = 25)

[WireGuard 83964BA3]
private-key = AIIeeUDvk3NeAFJ9BWCQvPJize/9WZibMnGJ/0rt5k4=
self-ip = 10.7.0.10
dns-server = 1.1.1.1
mtu = 1380
peer = (public-key = kHDoekeYhBvfW9a9UQ+UCmpbG423eejTjcjW+DT+JF0=, allowed-ips = "0.0.0.0/0, ::0/0", endpoint = 127.0.0.1:51820, keepalive = 45)
